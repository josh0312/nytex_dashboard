{% extends "base.html" %}

{% block title %}Table Comparison - NyTex Fireworks{% endblock %}

{% block content %}
<div class="max-w-full mx-auto px-4 sm:px-6 lg:px-8 py-4">
    <!-- Page Header -->
    <div class="mb-6">
        <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Table Implementation Comparison</h1>
        <p class="mt-1 text-sm text-gray-600 dark:text-gray-400">
            Compare the old HTMX table with the new Tabulator-powered table to see the enhanced functionality.
        </p>
    </div>

    <!-- Navigation Tabs -->
    <div class="mb-6" x-data="{ activeTab: 'original' }">
        <div class="border-b border-gray-200 dark:border-gray-600">
            <nav class="-mb-px flex space-x-8">
                <button 
                    @click="activeTab = 'original'"
                    :class="activeTab === 'original' ? 'border-blue-500 text-blue-600 dark:text-blue-400' : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300'"
                    class="whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"
                >
                    Original HTMX Table
                </button>
                <button 
                    @click="activeTab = 'enhanced'"
                    :class="activeTab === 'enhanced' ? 'border-blue-500 text-blue-600 dark:text-blue-400' : 'border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300'"
                    class="whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"
                >
                    Enhanced Tabulator Table
                </button>
            </nav>
        </div>

        <!-- Original Table Tab -->
        <div x-show="activeTab === 'original'" class="mt-6">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 mb-4">
                <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">Original Implementation Features:</h3>
                <ul class="list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-400">
                    <li>HTMX-powered server-side table updates</li>
                    <li>Basic sorting on column headers (Asc → Desc only)</li>
                    <li>Global search and separate filter dropdowns</li>
                    <li>Server-side pagination and filtering</li>
                    <li>Manual export functionality</li>
                </ul>
                <div class="mt-4">
                    <a href="/items/original" 
                       class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                        View Original Table
                    </a>
                </div>
            </div>
        </div>

        <!-- Enhanced Table Tab -->
        <div x-show="activeTab === 'enhanced'" class="mt-6">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 mb-4">
                <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">Enhanced Implementation Features:</h3>
                <ul class="list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-400">
                    <li><strong>Advanced Column Sorting:</strong> Asc → Desc → Original order (triple-click cycle)</li>
                    <li><strong>Integrated Column Filtering:</strong> Filter inputs directly in column headers</li>
                    <li><strong>Smart Filter Types:</strong> Text inputs for strings, dropdowns for categories, number filters for prices</li>
                    <li><strong>Performance:</strong> Virtual scrolling for large datasets</li>
                    <li><strong>Export Options:</strong> Built-in CSV, Excel (XLSX), and JSON export</li>
                    <li><strong>Responsive Design:</strong> Column collapsing on mobile devices</li>
                    <li><strong>Advanced Features:</strong> Column resizing, tooltips, formatting, frozen columns</li>
                    <li><strong>Real-time Feedback:</strong> Live row count and pagination info</li>
                </ul>
                <div class="mt-4 space-x-2">
                    <a href="/items/" 
                       class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                        View Enhanced Table
                    </a>
                    <a href="https://tabulator.info/" 
                       target="_blank"
                       class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                        Tabulator Documentation
                        <i data-lucide="external-link" class="ml-2 h-4 w-4"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Feature Comparison Table -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden">
        <div class="px-6 py-4 border-b border-gray-200 dark:border-gray-600">
            <h3 class="text-lg font-medium text-gray-900 dark:text-white">Feature Comparison</h3>
        </div>
        <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-600">
                <thead class="bg-gray-50 dark:bg-gray-700">
                    <tr>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Feature</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Original HTMX</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">Enhanced Tabulator</th>
                    </tr>
                </thead>
                <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600">
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">Column Sorting</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">Asc ↔ Desc only</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 dark:text-green-400">Asc → Desc → Original</td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">Column Filtering</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">Separate filter bar</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 dark:text-green-400">Integrated in headers</td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">Filter Types</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">Basic dropdowns</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 dark:text-green-400">Smart: text, select, number</td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">Export Formats</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">CSV, Excel (manual)</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 dark:text-green-400">CSV, Excel, JSON (built-in)</td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">Mobile Support</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">Basic responsive</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 dark:text-green-400">Column collapse/expand</td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">Performance</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">Server pagination</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 dark:text-green-400">Virtual scrolling + pagination</td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">Column Interaction</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">Click to sort only</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 dark:text-green-400">Resize, reorder, freeze</td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">Data Formatting</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">Server-side only</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 dark:text-green-400">Client-side money, number formatting</td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white">User Experience</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400">Page refreshes</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 dark:text-green-400">Smooth interactions</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Technical Implementation Info -->
    <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6">
            <h4 class="text-lg font-medium text-blue-900 dark:text-blue-200 mb-3">Original Implementation</h4>
            <ul class="space-y-2 text-sm text-blue-800 dark:text-blue-300">
                <li><strong>Technology:</strong> HTMX + Server-side rendering</li>
                <li><strong>Bundle Size:</strong> ~15KB (HTMX)</li>
                <li><strong>Complexity:</strong> Simple, minimal JavaScript</li>
                <li><strong>Maintenance:</strong> Server-side logic only</li>
                <li><strong>Best For:</strong> Simple tables, minimal interaction</li>
            </ul>
        </div>

        <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-6">
            <h4 class="text-lg font-medium text-green-900 dark:text-green-200 mb-3">Enhanced Implementation</h4>
            <ul class="space-y-2 text-sm text-green-800 dark:text-green-300">
                <li><strong>Technology:</strong> Tabulator + FastAPI JSON API</li>
                <li><strong>Bundle Size:</strong> ~45KB (Tabulator)</li>
                <li><strong>Complexity:</strong> Rich client-side features</li>
                <li><strong>Maintenance:</strong> More features, more possibilities</li>
                <li><strong>Best For:</strong> Power users, data analysis</li>
            </ul>
        </div>
    </div>
</div>

<script>
// Initialize Lucide icons
document.addEventListener('DOMContentLoaded', function() {
    lucide.createIcons();
});
</script>
{% endblock %} 