<!-- DEBUG: Metrics template v4 -->
<!-- Metrics container -->
<div>
     
    <!-- Top row metrics -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4">
        <!-- Total Sales -->
        <div :class="darkMode ? 'bg-indigo-800/40' : 'bg-indigo-100'" class="rounded-lg shadow-sm">
            <div class="p-4">
                <div class="flex items-center justify-between">
                    <div class="p-3 bg-indigo-200 dark:bg-indigo-800 rounded-full">
                        <i data-lucide="dollar-sign" class="w-6 h-6 text-indigo-600 dark:text-indigo-300"></i>
                    </div>
                    <div>
                        <p class="text-sm font-medium text-gray-600 dark:text-gray-300">Total Sales</p>
                        <p class="text-2xl font-semibold text-indigo-600 dark:text-indigo-300">${{ "%.2f"|format(total_sales) }}</p>
                    </div>
                    <div class="w-6"></div>
                </div>
            </div>
        </div>

        <!-- Total Orders -->
        {% include 'dashboard/components/total_orders.html' %}

        <!-- Seasonal Sales -->
        {% include 'dashboard/components/seasonal_sales.html' %}

        <!-- Low Stock Items -->
        {% include 'dashboard/components/low_stock.html' %}
    </div>

    <!-- Bottom section with two columns -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- Location sales table -->
        <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-4"
             hx-get="/metrics/locations"
             hx-trigger="load"
             hx-swap="innerHTML">
            <!-- Loading state -->
            <div class="animate-pulse">
                <div class="h-8 bg-gray-200 dark:bg-gray-700 rounded mb-4"></div>
                {% for i in range(3) %}
                <div class="h-12 bg-gray-100 dark:bg-gray-900 rounded mb-2"></div>
                {% endfor %}
            </div>
        </div>

        <!-- Right half placeholder -->
        <div class="bg-white dark:bg-gray-800 shadow rounded-lg p-4">
            <!-- Content for right half will go here -->
        </div>
    </div>

    <script>
        // Initialize Lucide icons after metrics are loaded
        lucide.createIcons();
    </script>
</div> 